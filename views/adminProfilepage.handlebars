{{> sidebarNav }}

<div class="card" id="profilePageCardMain" style="width: 80%">
    <div class="container" id="mainContent2" style="margin-right:12%;">
        <ul id="dropdown1" class="dropdown-content">
            <li><a href="#!">Find a Student</a></li>
            <li><a href="#!">List All Students</a></li>
        </ul>
        <button class="tablink" style="font-size: 1.5vw;" onclick="openPage('aboutMe', this, 'white')"
            id="defaultOpen">Account Info</button>
        <button class="tablink" style="font-size: 1.5vw;" onclick="openPage('artwork', this, 'white')">Artwork</button>
        <button class="dropdown-trigger tablink" style="font-size: 1.5vw;" onclick="openPage('manageUser', this, 'white')" data-target="dropdown1">ManageUser<i class="material-icons right">arrow_drop_down</i></button>
        <button class="tablink" style="font-size: 1.5vw;" onclick="openPage('About', this, 'white')">Settings</button>

        <div id="aboutMe" class="tabcontent">

            <div class="hero-image">
                <img class="responsive-img img-floating profilePic" style="text-align: center; margin-left:35%" src="./resources/SAGL.png" alt="Avatar">
                {{!-- <img src="https://avatars3.githubusercontent.com/u/61264828?s=460&u=85c3af334051baca42c09bd68c228ef867438da7&v=4"
                    alt="Avatar" class="img-floating profilePic">{{!-- <img src="{{profileAvatar}}"
                    alt="Avatar" class="img-floating profilePic">  need to make this a handlebars varible --}}
            </div>


            <div class="card" id="profilePageAboutMeCard" style="width: 100%; margin-top: 0;">
                <div>
                    <h3 style="font-size: 1.7vw;">Account Information</h3>
                    <hr>
                    <form class="signup col s12 m12 l12">
                            <div class="welcomMessage col s10">
                                <h2>Hello, {{first_name}} {{last_name}}</h2>
                            </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input disabled id="account_id" type="text" value="{{id}}">
                                <label class="active" for="id">Account ID</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input placeholder="First Name" id="firstname-input" type="text"
                                    value="{{first_name}}">
                                <label class="active" for="first_name">First Name</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="lastname-input" type="text" value="{{last_name}}">
                                <label class="active" for="last_name">Last Name</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="address-input" type="text" value="{{address1}}">
                                <label class="active" for="address">Address</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="address2-input" type="text" value="{{address2}}">
                                <label class="active" for="address2">Address2</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-field col s6">
                                <input id="city-input" type="text" value="{{city}}">
                                <label class="active" for="city">City</label>
                            </div>

                            <div class="input-field col s6">
                                <input id="state-input" type="text" value="{{state}}">
                                <label class="active" for="state">State</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="zipcode-input" type="text" value="{{zip}}">
                                <label class="active" for="zipCode">Zip Code</label>
                            </div>

                            <div class="input-field col s6">
                                <input id="phone-input" type="tel" value="{{phone}}">
                                <label class="active" for="phoneNumber">Tel Number</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input disabled id="email-input" type="text" value="{{email}}">
                                <label class="active" for="email">Email</label>
                            </div>
                        </div>

                        <hr>
                        <h3 style="font-size: 1.7vw;">School Afilliation</h3>
                        <div class="row">
                            <div class="input-field col s12">
                                <input disabled id="school-input" type="text" value="{{school}}">
                                <label class="active" for="school">School</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input disabled id="role-input" type="text" value="{{role}}">
                                <label class="active" for="role">Role</label>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-default red darken-4" id="updateButton">UPDATE PROFILE</button><br><br>
                        <button type="submit" class="btn btn-default red darken-4" id="refreshButton">REFRESH</button>

                        <hr>
                        {{#if active}}
                        <div class="row emailVal"></div>
                        {{else}}
                        <div class="row emailVal">
                        <h3 class="emailVal" style="font-size: 1.5vw;">Email Validation</h3>
                            This is the email we have from the Sign Up Page: <span id="email" value="{{email}}"><b>{{email}}</b>. </span>
                            Please retype it below to verify.
                        <span id="emailmsg" style="color:red;font-weight:bold"></span>
                        
                            <input class="emailVal" id="emailinput" type="text" class="validate emailVal hoverable">
                            <label class="active" for="email">Enter Your Email Address</label>
                        </div>
                        <button type="submit" class="btn btn-default red darken-4 enableOnInput emailVal" disabled="disabled" id="validateEmailButton">VALIDATE
                            EMAIL</button>
                        {{/if}}
                    </form>
                </div>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script type="text/javascript" src="/js/members.js"></script>

        <div id="artwork" class="tabcontent">
            <div class="hero-image">
                <img class="responsive-img img-floating profilePic" style="text-align: center; margin-left:35%" src="./resources/SAGL.png" alt="Avatar">
            </div>
            <div class="card" id="profilePageAboutMeCard" style="width: 100%; margin-top: 0;">
                {{#if active}}   
                <div class="row">
                
                </div>
                    <div class="column">
                    </div>
                {{> upload }}
                    <div class="row" id="startGal">
                        {{!-- <div class="responsive" id="row0">
                            <div class="gallery" id="ulimage0">
                                <img class="materialboxed" src="./resources/webpage/31606_hd.jpg" alt="Cinque Terre" width="100%" height="400">
                                <div class="art_name_input">Title: {{art_name_input}}</div>
                                <div class="artist_name">Artist: {{artist_name}}</div>
                                <div class="desc">Add a description of the image here</div>
                                {{#if bid}}
                                <div class="currentPrice">${{currentPrice}}.00</div>
                                <button class="upload-btn red darken-4 waves-effect waves-light btn-small hoverable" type='submit' value='Bid' id="fileUpload">Bid!</button>
                                {{/if}}
                            </div>
                        </div> --}}

                    {{else}}
                            <p style="text-align: center">Please got to Account Info and validate your account by verifying your email address.</p>
                            <p style="text-align: center"><b>You will find it at the bottom of the Account Info page.</b></p>
                            <button class="btn-small" onclick="openPage('aboutMe', this, 'white')">Account Info</button> 
                            
                            {{/if}}
                    </div>
            </div>
        </div>

        <div id="manageUser" class="tabcontent">
            <div class="hero-image">
                <img class="responsive-img img-floating profilePic" style="text-align: center; margin-left:35%" src="./resources/SAGL.png" alt="Avatar">
            </div>

            <div class="card" id="profilePageAboutMeCard" style="width: 100%; margin-top: 0;">
                <div>
                    <hr>
                    <h6>Search User by Email</h6>
                    <nav>
                        <div class="nav-wrapper">
                            <form id="userSearch">
                                <div class="input-field hoverable" id="searchblock">
                                    <input id="searchforUser" type="search" required>
                                    <label class="label-icon" for="search"><i class="material-icons">search</i></label>
                                    <i class="material-icons">close</i>
                                </div>
                            <h3 id="err-msg"></h3>
                            </form>
                        </div>
                    </nav>
                    <div class="row">

                    </div>
                    <hr>
                    <h3 style="font-size: 1.7vw;">User Account Information</h3>
                    <hr>
                    <form class="signup col s12 m12 l12">
                        <div class="row">
                            <div class="input-field col s5">
                                <input disabled id="accountid" type="text" value="{{searchedId}}">
                                <label class="active" for="id">Account ID</label>
                            </div>
                            {{!-- <div class="welcomMessage col s10">
                                <input disabled id="welcomeMessage" type="text" value="{{searchedFirst_name}} {{searchedLast_name}}">
                                <h2></h2>
                            </div> --}}
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input placeholder="First Name" id="firstnameinput" type="text"
                                    value="{{searchedFirst_name}}">
                                <label class="active" for="first_name">First Name</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="lastnameinput" type="text" value="{{searchedLast_name}}">
                                <label class="active" for="last_name">Last Name</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="addressinput" type="text" value="{{searchedAddress1}}">
                                <label class="active" for="address">Address</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="address2input" type="text" value="{{searchedAddress2}}">
                                <label class="active" for="address2">Address2</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-field col s6">
                                <input id="cityinput" type="text" value="{{searchedCity}}">
                                <label class="active" for="city">City</label>
                            </div>

                            <div class="input-field col s6">
                                <input id="stateinput" type="text" value="{{searchedState}}">
                                <label class="active" for="state">State</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <input id="zipcodeinput" type="text" value="{{searchedZip}}">
                                <label class="active" for="zipCode">Zip Code</label>
                            </div>

                            <div class="input-field col s6">
                                <input id="phoneinput" type="tel" value="{{searchedPhone}}">
                                <label class="active" for="phoneNumber">Tel Number</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="emailinput" type="email" value="{{searchedEmail}}">
                                <label class="active" for="email">Email</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-field col s12">
                        <h3 style="font-size: 1.7vw;">School Affiliation</h3>
                                <input disabled id="schoolinput" type="text" value="{{searchedSchool}}">
                                {{!-- <label class="active" for="school">School</label> --}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="roleinput" type="text" value="{{searchedRole}}">
                                <label class="active" for="role">Role</label>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-default red darken-4 hoverable" id="updateUserButton">UPDATE
                            USER</button>
                        <button type="submit" data-target="delete-account-modal"
                            class="btn btn-default red darken-4 modal-trigger hoverable" id="deleteButton">DELETE USER</button>

                        <hr>
                    </form>
                </div>
            </div>
            {{!-- File Modal --}}
            <div id="upload-file-modal" class="modal">
                <div class="modal-content">
                    <h4>Confirmation</h4>
                    <div class="modal-header">
                        <h6> File Upload of {{{art_name}}}:</h6>

                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-default green darken-4" id="cancel-delete">CLOSE</button>
                    </div>

                </div>
            </div>
        
        {{!-- Delete User Account Confirmation Modal --}}
            <div id="delete-account-modal" class="modal">
                <div class="modal-content">
                    <h4>Confirmation</h4>
                    <div class="modal-header">
                        <h6> Are you sure you want to delete {{{emailSearched}}}'s account?</h6>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-default red darken-4" id="confirm-delete">YES</button>
                        <button type="submit" class="btn btn-default green darken-4" id="cancel-delete">CANCEL</button>
                    </div>

                </div>

            </div>
        </div>

        {{>manageUser}}
        <!-- Auction timers and Bids -->
        <div id="About" class="tabcontent">
            <div class="hero-image">
                <img class="responsive-img img-floating profilePic" style="text-align: center; margin-left:35%" src="./resources/SAGL.png" alt="Avatar">
            </div>
                <div class="card" id="profilePageAboutMeCard" style="width: 100%;">
                    <h3>Auction Settings and Timers</h3>
                    <p>Where Auctions are started and timers are set.</p>
                </div>
        </div>
    </div>
</div>


<!-- Container for the image gallery -->
<style>
    .row {
        display: flex;
        flex-wrap: wrap;
        padding: 0 10px;
    }

    /* Create two equal columns that sits next to each other */
    .column {
        flex: 50%;
        padding: 0
    }

    .column img {
        margin-top: 8px;
        vertical-align: middle;
    }

    /*the nabar*/




    /*About me page style*/

    .hero-image {
        /* Use "linear-gradient" to add a darken background effect to the image (photographer.jpg). This will make the text easier to read */
        background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://www.cultureentertainment.us/wp-content/uploads/2018/09/Organizing-Your-Office-With-Wall-Art.jpg");
        height: 25vh;

        position: relative;
        z-index: 1;
        background-size: cover;
        background-repeat: round;

    }

    .profilePic {
        border-radius: 50%;
        height: 50%;
        width: 18%;
        position: absolute;
        z-index: 3;
        bottom: -30px;
        right: 25vw;
        border: 5px solid white;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }

    #profilePageAboutMeCard {
        width: 100%;
        height: 100%;
    }

    #abcd {
        width: 100%;
    }
</style>


<script>
    //profile card
    function openPage(pageName, elmnt, color) {
        // Hide all elements with class="tabcontent" by default */
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        // Remove the background color of all tablinks/buttons
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].style.backgroundColor = "";
        }

        // Show the specific tab content
        document.getElementById(pageName).style.display = "block";

        // Add the specific color to the button used to open the tab content
        elmnt.style.backgroundColor = color;
    }

    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();

    $(document).ready(function () {
        $('.sidenav').sidenav();
        M.updateTextFields();
    });
</script>